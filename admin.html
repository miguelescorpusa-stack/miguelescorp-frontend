<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin — Migueles Corp</title>
  <style>
    body{font-family:system-ui,Segoe UI,Arial,sans-serif;margin:0;padding:32px;background:#fff;color:#111}
    .wrap{max-width:760px;margin:auto}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;text-decoration:none;border:2px solid #5b22a6}
    .btn:hover{background:#5b22a6;color:#fff}
    label{display:block;margin-top:12px}
    input{width:100%;padding:10px;margin-top:6px;border:1px solid #ccc;border-radius:8px}
  </style>
</head>
<body>
  <main class="wrap">
    <h1>Panel Administrativo</h1>
    <a class="btn" href="./index.html">← Volver al Inicio</a>

    <h2 style="margin-top:24px">Cargar envío</h2>
    <form>
      <label>Número de envío
        <input type="text" placeholder="MC-000123" />
      </label>
      <label>Nombre del cliente
        <input type="text" placeholder="Juan Pérez" />
      </label>
      <label>Estado
        <button id="saveButton">Guardar envío</button>
<script>
  document.getElementById("saveButton").addEventListener("click", async () => {
    const envio = {
      numero: document.querySelector("input[placeholder='MC-000123']").value,
      cliente: document.querySelector("input[placeholder='Juan Perez']").value,
      estado: document.querySelector("input[placeholder='Registro']").value
    };

    const respuesta = await fetch("https://miguelescorp-backend.vercel.app/api/envios", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(envio)
    });

    if (respuesta.ok) {
      alert("✅ Envío guardado con éxito");
    } else {
      alert("❌ Error al guardar el envío");
    }
  });
</script>
        <input type="text" placeholder="Recogido / En ruta / Entregado" />
      </label>
    </form>
  </main>
</body>
</html>
